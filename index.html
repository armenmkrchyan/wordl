<!DOCTYPE html>
<html lang="hy">
<head>
  <meta charset="UTF-8" />
  <meta property="og:title" content="Wordle ๐ฆ๐ฒ" />
  <meta property="og:description" content="ิณีธึีทีกีฏีฅึ ึึีพีก ีขีกีผีจ" />
  <meta property="og:image" content="wordle.png" />
  <meta property="og:url" content="https://wordle.am" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Wordle ๐ฆ๐ฒ">
  <meta property="og:locale" content="hy_AM">
  <meta name="keywords" content="Wordle, ีีกีตีฅึีฅีถ, ิฝีกีฒ, ิฒีกีผ, ิฒีกีผีกีญีกีฒ, Armenian Wordle, ีึีพีก ีขีกีผ, Armblog, Armen Mkrtchyan">
  <meta itemprop="image" content="https://wordle.am/wordle.png">
  <meta name="theme-color" content="#ffffff">
  <meta name="author" content="Armen Mkrtchyan">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Wordle ๐ฆ๐ฒ">
  <meta name="twitter:description" content="ิณีธึีทีกีฏีฅึ ึึีพีก ีขีกีผีจ">
  <meta name="twitter:image" content="https://wordle.am/wordle.png">
  <meta name="twitter:url" content="https://wordle.am">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <title>Wordle ๐ฆ๐ฒ</title>
  <style>
    /* --- Global Reset & Box Sizing --- */
    html {
        box-sizing: border-box;
        height: 100%; /* Ensure html takes full height */
        overflow-y: auto; /* Allow scrolling if content exceeds viewport */
    }
    *, *:before, *:after {
        box-sizing: inherit;
    }

    html, body {
        min-height: 100%; /* Ensure body can fill viewport */
        margin: 0;
        padding: 0; /* Ensure no default padding */
    }
    body {
      font-family: sans-serif;
      display: flex;
      flex-direction: column; /* Stack children vertically (main-content then game-column-right/keyboard) */
      align-items: center; /* Center children horizontally */
      transition: background 0.3s, color 0.3s;
      background-color: var(--bg-color, #fff);
      color: var(--text-color, #000);
    }

    :root {
        --bg-color: #fff;
        --text-color: #000;
        --tile-border-empty: #aaa;
        --tile-border-filled: #666;
        --key-bg: #d3d6da;
        --key-text: #1a1a1b;
        --correct-bg: #538d4e;
        --present-bg: #b59f3b;
        --absent-bg: #3a3a3c;
        --delete-key-bg: #dc3545; /* Red */
        --enter-key-bg: #538d4e; /* Green */
        --tile-text-light: #000;
        --tile-text-dark: #fff;
        --link-color: #007bff;
        --popup-bg: #f8f9fa;
        --popup-text: #212529;
        --popup-border: #dee2e6;
        --popup-overlay-bg: rgba(0, 0, 0, 0.5);
        --popup-close-color: #6c757d;
        --popup-link-hover-bg: #e9ecef;
    }

    .main-content { /* Primarily for board and message container now */
        flex: 1 1 auto; /* Allows growing and shrinking, takes available space */
        width: 100%;
        display: flex;
        flex-direction: column; /* Stack children vertically */
        align-items: center; /* Center children horizontally */
        max-width: 550px; /* Max width for the main content area */
        margin-left: auto;
        margin-right: auto;
        padding-left: 5px;
        padding-right: 5px;
        padding-top: 0; /* Header moved out */
        padding-bottom: 10px;
        align-self: center;
        position: relative; /* For message-container */
    }

    /* Global styles for header-container and subtitle, now used within #game-column-right */
    .header-container {
        display: flex;
        align-items: baseline;
        justify-content: center;
        flex-wrap: wrap;
        gap: 0.5em;
        width: 100%; /* Will be controlled by parent #game-column-right */
        /* margin-top/bottom set by #game-column-right > .header-container */
    }

    h1 {
      margin: 0;
      font-size: 1.5rem;
      white-space: nowrap;
    }

    #game-number-display {
        font-size: 0.9rem;
        font-weight: bold;
        color: var(--link-color);
        cursor: pointer;
        text-decoration: none;
        border-bottom: 1px dashed var(--link-color);
        margin-left: 5px;
        white-space: nowrap;
    }
    #game-number-display:hover {
        text-decoration: none;
        border-bottom-style: solid;
    }
    .dark #game-number-display {
        color: var(--link-color);
        border-bottom-color: var(--link-color);
    }

    .subtitle {
        width: 100%; /* Will be controlled by parent #game-column-right */
        text-align: center;
        font-size: 0.9rem;
        color: #777;
        margin-top: 0;
        /* margin-bottom set by #game-column-right > .subtitle */
    }
    .dark .subtitle {
        color: #aaa;
    }
     .subtitle a {
        color: inherit;
     }
     .subtitle a:hover {
        text-decoration: underline;
     }


    .board-container {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 100%;
        margin: 8px 0; /* Vertical margins in portrait */
        flex: 1 1 auto; /* Allow board container to grow/shrink within main-content */
        min-height: 0; /* Allow flex item to shrink below content size */
    }

    .board {
      display: grid;
      grid-template-rows: repeat(6, 1fr);
      grid-gap: 4px;
      width: 100%;
    }

    .row {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        grid-gap: 4px;
    }

    .tile {
      width: 100%;
      aspect-ratio: 1 / 1;
      border: 2px solid var(--tile-border-empty);
      font-size: clamp(1.5rem, 6vw, 2rem);
      font-weight: bold;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-transform: lowercase;
      color: var(--tile-text-light);
      background-color: var(--bg-color);
      transition: background-color 0.3s, border-color 0.3s;
    }
    .tile > div {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        height: 100%;
        color: inherit;
    }
    .tile.filled {
        border-color: var(--tile-border-filled);
    }
    .tile.correct { background-color: var(--correct-bg); color: var(--tile-text-dark); border-color: var(--correct-bg); }
    .tile.present { background-color: var(--present-bg); color: var(--tile-text-dark); border-color: var(--present-bg); }
    .tile.absent { background-color: var(--absent-bg); color: var(--tile-text-dark); border-color: var(--absent-bg); }

    /* NEW Default (Portrait) layout for the right column (header + keyboard) */
    #game-column-right {
        display: flex;
        flex-direction: column; /* Stack its header content, then keyboard */
        align-items: center;
        width: 100%; /* Full width in portrait */
        max-width: 550px; /* Consistent with .main-content max-width */
        margin-left: auto;
        margin-right: auto;
        position: relative; /* For absolute positioning of its child buttons */
        padding: 0 5px;
    }

    #game-column-right > .header-container {
        width: 100%;
        margin-top: 10px; /* Original spacing */
        margin-bottom: 2px;
    }
    #game-column-right > .subtitle {
        width: 100%;
        margin-top: 0;
        margin-bottom: 5px;
    }

    /* Toggle Buttons in Portrait - children of #game-column-right */
    #game-column-right > #toggle-theme,
    #game-column-right > #toggle-layout {
        position: absolute;
        margin-bottom: 0;
        padding: 6px 7px;
        font-size: 0.9rem;
        border-radius: 5px;
        cursor: pointer;
        border: 1px solid #ccc;
        background-color: #eee;
        color: #333;
        z-index: 20;
        top: 10px; /* Aligns with top margin of its .header-container */
    }
    #game-column-right > #toggle-theme {
      right: 10px; /* 5px parent padding + 5px desired offset */
      padding: 6px 10px;
    }
    .dark #game-column-right > #toggle-theme {
        background-color: #333;
        color: white;
        border-color: #555;
    }
    #game-column-right > #toggle-layout {
      left: 10px; /* 5px parent padding + 5px desired offset */
      min-width: 80px;
      text-align: center;
    }
    .dark #game-column-right > #toggle-layout {
        background-color: #333;
        color: white;
        border-color: #555;
    }


    #keyboard { /* Part of #game-column-right in HTML */
      flex-shrink: 0;
      width: 100%;
      /* max-width: 550px; <- parent #game-column-right handles this */
      display: flex;
      flex-direction: column;
      gap: 4px;
      padding: 0; /* Parent #game-column-right has padding */
      margin-top: 5px;
      margin-bottom: 20px;
    }

    #keyboard-top-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 3px;
    }

    #keyboard-main-grid {
        display: grid;
        grid-template-columns: repeat(8, 1fr);
        gap: 3px;
    }
    body[data-keyboard-layout="phonetic"] #keyboard-main-grid {
         grid-template-columns: repeat(10, 1fr);
         gap: 3px;
    }
    .key.placeholder {
        background: transparent;
        pointer-events: none;
        border-color: transparent;
        visibility: hidden;
     }
    body[data-keyboard-layout="phonetic"] #keyboard-main-grid .key.placeholder {
        visibility: visible;
        background: rgba(0,0,0,0.03);
     }

    .key {
      min-height: 40px;
      font-size: clamp(1.2rem, 5vw, 1.8rem);
      font-weight: bold;
      border: 3px solid transparent;
      border-radius: 4px;
      background-color: var(--key-bg);
      color: var(--key-text);
      cursor: pointer;
      transition: background-color 0.2s, color 0.2s, border-color 0.2s;
      display: flex;
      justify-content: center;
      align-items: center;
      user-select: none;
      touch-action: manipulation;
      text-transform: lowercase;
      padding: 0;
      min-width: 0;
    }
    .key:hover {
        filter: brightness(90%);
    }

    .key.enter,
    .key.delete {
      font-size: clamp(0.9rem, 3.5vw, 1.2rem);
      color: white;
      border-width: 3px;
      border-style: solid;
    }
    .key.enter {
        background-color: var(--enter-key-bg);
        border-color: var(--enter-key-bg);
        white-space: nowrap;
    }
    .key.delete {
         background-color: var(--delete-key-bg);
         border-color: var(--delete-key-bg);
         white-space: nowrap;
    }

    .key.correct { background-color: var(--correct-bg); color: var(--tile-text-dark); border-color: transparent; }
    .key.present { background-color: var(--present-bg); color: var(--tile-text-dark); border-color: transparent; }
    .key.absent { background-color: var(--absent-bg); color: var(--tile-text-dark); border-color: transparent; }
    .key.correct.has-present { border-width: 3px; border-style: solid; border-color: #ffff00; }


    .message-container { /* Default fixed position for portrait */
        position: fixed;
        top: 70px;
        left: 50%;
        transform: translateX(-50%);
        min-height: 30px;
        z-index: 1000;
        width: 90%;
        max-width: 350px;
    }
    .message {
      text-align: center;
      font-size: 1em;
      margin-top: 0.5rem;
      padding: 8px 10px;
      font-weight: bold;
      background-color: #333;
      color: white;
      border-radius: 5px;
      visibility: hidden;
      opacity: 0;
      transition: visibility 0s 1.5s, opacity 1.5s linear;
      white-space: normal;
      word-wrap: break-word;
    }
     .message.show {
        visibility: visible;
        opacity: 1;
        transition: opacity 0.3s linear;
     }

    .dark {
        --bg-color: #121213;
        --text-color: #fff;
        --tile-border-empty: #3a3a3c;
        --tile-border-filled: #565758;
        --key-bg: #818384;
        --key-text: #dadce0;
        --tile-text-light: #fff;
        --link-color: #64b5f6;
        --popup-bg: #2c2c2e;
        --popup-text: #eaeaeb;
        --popup-border: #444;
        --popup-overlay-bg: rgba(0, 0, 0, 0.7);
        --popup-close-color: #aaa;
        --popup-link-hover-bg: #3a3a3c;
    }
    .dark .message { background-color: #eee; color: #121213; }
    .dark .key:hover { filter: brightness(115%); }
    .dark .key.enter:hover, .dark .key.delete:hover { filter: brightness(110%); }
    .dark .key.correct.has-present:hover { filter: brightness(110%); }
    .dark .key.correct { background-color: var(--correct-bg); color: var(--tile-text-dark); border-color: transparent;}
    .dark .key.present { background-color: var(--present-bg); color: var(--tile-text-dark); border-color: transparent;}
    .dark .key.absent { background-color: var(--absent-bg); color: var(--tile-text-dark); border-color: transparent;}
    .dark .key.correct.has-present { border-color: var(--present-bg); }


    /* --- Popup Styles --- */
    .popup-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--popup-overlay-bg);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 900;
        padding: 15px;
    }
    .popup-content {
        background-color: var(--popup-bg);
        color: var(--popup-text);
        padding: 20px;
        border-radius: 8px;
        border: 1px solid var(--popup-border);
        max-width: 90%;
        width: 400px;
        max-height: 80vh;
        overflow-y: auto;
        position: relative;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    .popup-content h2 { margin-top: 0; margin-bottom: 15px; text-align: center; font-size: 1.3rem; }
    .popup-close { position: absolute; top: 10px; right: 15px; font-size: 1.8rem; font-weight: bold; color: var(--popup-close-color); cursor: pointer; line-height: 1; }
    .popup-close:hover { color: var(--text-color); }
    #past-games-list { list-style: none; padding: 0; margin: 0; }
    #past-games-list li a { display: block; padding: 8px 12px; margin-bottom: 5px; background-color: transparent; color: var(--link-color); text-decoration: none; border-radius: 4px; transition: background-color 0.2s; font-size: 0.95rem; }
    .dark #past-games-list li a { color: var(--link-color); }
    #past-games-list li a:hover { background-color: var(--popup-link-hover-bg); text-decoration: underline; }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
      20%, 40%, 60%, 80% { transform: translateX(5px); }
    }
    .shake { animation: shake 0.6s ease-in-out; }


    /* Media Query for very small/short screens (PORTRAIT small) */
    @media (max-width: 340px), (max-height: 600px) and (orientation: portrait) {
        #game-column-right > .header-container { /* Adjusts for header within game-column-right */
            margin-top: 8px;
        }
        h1 { font-size: 1.3rem; }
        #game-number-display { font-size: 0.8rem; }
        #game-column-right > .subtitle { margin-bottom: 3px; }

        .main-content { padding-bottom: 5px; }
        .board-container { margin: 5px 0; }
        .board, .row { grid-gap: 3px; }

        #keyboard { gap: 3px; padding: 0 2px; margin-top: 3px; margin-bottom: 15px; }
        #keyboard-main-grid, #keyboard-top-row { gap: 2px; }
        body[data-keyboard-layout="phonetic"] #keyboard-main-grid { grid-template-columns: repeat(10, 1fr); gap: 2px; }

        .key { min-height: 36px; font-size: clamp(1rem, 3.5vw, 1.3rem); }
        .key.enter, .key.delete { font-size: clamp(0.8rem, 3vw, 1.1rem); }

        /* Adjust button positions (now relative to #game-column-right) */
        #game-column-right > #toggle-theme,
        #game-column-right > #toggle-layout {
            padding: 4px 7px;
            font-size: 0.8rem;
            top: 2px; /* Adjust based on parent's header-container changes */
        }
        #game-column-right > #toggle-theme { right: 5px; }
        #game-column-right > #toggle-layout { left: 5px; min-width: 70px; }

        .message-container { top: 60px; } /* This is global fixed; keep it if it works */
        .popup-content { width: 95%; padding: 15px; }
        .popup-content h2 { font-size: 1.2rem; }
        #past-games-list li a { font-size: 0.9rem; padding: 6px 10px; }
    }


    /* --- Horizontal Orientation Fix for Mobile (with HTML adjustments) --- */
    @media (orientation: landscape) and (max-height: 600px) {
        html {
             height: 100svh;
             max-height: 100svh;
             overflow: hidden;
        }
        body {
            height: 100%;
            max-height: 100%;
            overflow: hidden;
            display: flex;
            flex-direction: row;    /* .main-content (left) | #game-column-right (right) */
            align-items: stretch;
            justify-content: center;
            padding: 3px;
            gap: 8px;
            box-sizing: border-box;
        }

        /* Left Column: Board Area + Message Container */
        .main-content {
            flex: 1 1 45%;
            max-width: 380px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start; /* board-container will grow */
            padding: 0;
            margin: 0;
            overflow: hidden;
            position: relative; /* For message-container child */
        }

        /* Message container inside .main-content (left column) in landscape */
        .main-content > .message-container {
            position: absolute;
            top: clamp(1px, 0.2svh, 2px);
            left: 50%;
            transform: translateX(-50%);
            width: 90%;
            max-width: calc(100% - 10px);
            z-index: 1000;
            padding: 0;
        }
        .main-content > .message-container > .message {
            font-size: clamp(0.7rem, 1.7svh, 0.9rem);
            padding: clamp(3px, 0.6svh, 5px) clamp(5px, 0.8svh, 7px);
            margin-top: 0;
        }


        .board-container {
            flex-grow: 1;
            width: 100%;
            max-width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: clamp(1px, 0.2svh, 2px) 0 0 0; /* Space after potential message-container */
            min-height: 0;
            overflow: hidden;
        }

        .board {
            display: grid;
            grid-template-rows: repeat(6, 1fr);
            grid-gap: clamp(2px, 0.4svh, 3px);
            height: 100%;
            width: auto;
            aspect-ratio: 5 / 6.15; /* Fine-tune for visual squareness of tiles */
            max-width: 100%;
        }
        
        .tile {
            width: 100%;
            aspect-ratio: 1 / 1;
            border-width: 1px;
            font-size: clamp(0.8rem, 2.6svh, 1.5rem);
            display: flex; align-items: center; justify-content: center;
        }
        .tile > div { 
            line-height: 1;
        }

        /* Right Column: Header + Keyboard */
        #game-column-right {
            flex: 1 1 50%;
            max-width: 480px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 0 2px;
            margin: 0;
            position: relative; /* For its own buttons' absolute positioning */
            overflow: hidden;
        }
        
        /* Header elements WITHIN #game-column-right in LANDSCAPE */
        #game-column-right > .header-container {
            width: 100%;
            flex-shrink: 0;
            margin-top: clamp(22px, 3svh, 28px); /* Space below top buttons */
            margin-bottom: clamp(1px, 0.1svh, 2px);
        }
        #game-column-right > .header-container h1 {
            font-size: clamp(0.9rem, 2.5svh, 1.2rem);
        }
        #game-column-right > .header-container #game-number-display {
            font-size: clamp(0.6rem, 1.8svh, 0.8rem);
        }

        #game-column-right > .subtitle {
            width: 100%;
            flex-shrink: 0;
            font-size: clamp(0.6rem, 1.7svh, 0.75rem);
            margin-top: 0;
            margin-bottom: clamp(1px, 0.3svh, 3px);
        }

        /* Toggle Buttons repositioned for LANDSCAPE within #game-column-right */
        #game-column-right > #toggle-theme,
        #game-column-right > #toggle-layout {
            position: absolute;
            top: clamp(1px, 0.3svh, 3px); /* At the very top of #game-column-right */
            padding: clamp(2px, 0.6svh, 4px) clamp(3px, 0.8svh, 6px); 
            font-size: clamp(0.7rem, 1.8svh, 0.9rem);
            z-index: 25; /* Ensure they are on top of other header content if overlap */
        }
        #game-column-right > #toggle-theme {
            right: clamp(1px, 0.3svh, 3px);
        }
        #game-column-right > #toggle-layout {
            left: clamp(1px, 0.3svh, 3px);
        }
        

        /* Keyboard styling within #game-column-right */
        #game-column-right > #keyboard {
            width: 100%;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: center; /* Center key rows vertically */
            gap: clamp(2px, 0.4svh, 3px);
            min-height: 0;
            margin-bottom: clamp(1px, 0.2svh, 2px);
            margin-top: clamp(1px, 0.2svh, 2px); /* Small gap from subtitle */
            padding: 0; /* #game-column-right has horizontal padding */
        }
        
        .key {
            min-height: clamp(25px, 4.5svh, 36px);
            font-size: clamp(0.7rem, 2.2svh, 1.1rem);
            border-radius: 3px;
        }
        .key.enter, .key.delete {
             font-size: clamp(0.6rem, 1.8svh, 0.9rem);
        }
    }

  </style>
</head>
<body>
  <div class="main-content">
      <!-- Message Container REMAINS HERE as it's related to board/gameplay feedback -->
      <div class="message-container">
         <div id="message" class="message"></div>
      </div>

      <!-- Board -->
      <div class="board-container">
         <div class="board" id="board"></div>
      </div>
  </div>

  <!-- NEW: Right column wrapper for Header + Keyboard -->
  <div id="game-column-right">
      <!-- MOVED Header elements START -->
      <button id="toggle-theme">๐</button>
      <button id="toggle-layout"></button>

      <div class="header-container">
         <h1>Wordle <img src="flag.png" alt="๐ฆ๐ฒ" style="height: 0.7em; vertical-align: middle;"></h1>
         <span id="game-number-display">ิฝีกีฒ #...</span>
      </div>
      <p class="subtitle">by <a href="https://www.armblog.net" target="_blank">Armen Mkrtchyan</a></p>
      <!-- MOVED Header elements END -->

      <div id="keyboard">
          <div id="keyboard-top-row"></div>
          <div id="keyboard-main-grid"></div>
      </div>
  </div>

  <!-- Past Games Popup (remains a direct child of body) -->
  <div id="past-games-popup" class="popup-overlay" style="display: none;">
    <div class="popup-content">
      <span class="popup-close" id="popup-close-button">ร</span>
      <h2>ีีกีญีธึีค ีญีกีฒีฅึีจ</h2>
      <ul id="past-games-list">
        <li><a href="#">ิฝีกีฒ #1 - 2025-05-02</a></li>
        <li><a href="#">ิฝีกีฒ #2 - 2025-05-03</a></li>
      </ul>
    </div>
  </div>


<script>
  const boardElement = document.getElementById('board');
  const keyboardTopRowElement = document.getElementById('keyboard-top-row');
  const keyboardMainGridElement = document.getElementById('keyboard-main-grid');
  const keyboardElement = document.getElementById('keyboard');
  const toggleBtnTheme = document.getElementById('toggle-theme');
  const toggleBtnLayout = document.getElementById('toggle-layout');
  const messageElement = document.getElementById('message');
  const mainContent = document.querySelector('.main-content');
  const gameNumberDisplay = document.getElementById('game-number-display');
  const pastGamesPopup = document.getElementById('past-games-popup');
  const pastGamesList = document.getElementById('past-games-list');
  const popupCloseButton = document.getElementById('popup-close-button');

  // --- Constants ---
  const WORD_LENGTH = 5;
  const MAX_ROWS = 6;
  const ENTER_KEY = 'ีจีถีคีธึีถีฅีฌ';
  const DELETE_KEY = 'ีปีถีปีฅีฌ';
  const LOCAL_STORAGE_LAYOUT_KEY = 'armenianWordleLayout';
  const LOCAL_STORAGE_HISTORY_KEY = 'armenianWordleHistory';
  const START_DATE_STRING = "2025-05-02";

  // --- Word List ---
  const WORDS = ['ีกีพีตีธึีถ', 'ีกึีชีฅึ', 'ีฏีกึีกีฃ', 'ีฏีกีฒีถีซ', 'ีฎีกีฃีธึีด', 'ีญีฅีฌีธึ', 'ีกีถีฃีซึ', 'ีญีกีฒีกีฌ', 'ีฐีกีฝีธึีถ', 'ีฑีธีฒีซีฏ', 'ีพีกึีซีน', 'ีธีฝีฏีธึ', 'ีญีกีถีธึีฉ', 'ีฆีถีคีกีถ', 'ีดีซีปีธึ', 'ีชีตีธึึีซ', 'ีฅีฒีซีถีป', 'ีพีฅีฆีซึ', 'ีถีตีกึีค', 'ีกีฆีถีซีพ', 'ีกีถีฅีฎึ', 'ีฟีฅีฝีกีฏ', 'ีบีกีผีกีพ', 'ีฃีถีธึีค', 'ีฐีถีคีซีฏ', 'ีนีฒีปีซีฏ', 'ีบีกีถีคีก', 'ีฏีผีธึีถีฏ', 'ีดีฅีผีกีฎ', 'ีฐีกีฟีธึ', 'ีธีฝีฏีตีก', 'ีบีกึีฅีถ', 'ีฏีกึีฎึ', 'ีฌีธึีฟีธึ', 'ีดีธีฎีกีฏ', 'ีฏีกีดีกึ', 'ีงีฏึีกีถ', 'ีฃีกีฆีกึ', 'ีฐีกีดีฅีฒ', 'ีฏีกีบีซีฏ', 'ึีธีฟีธีถ', 'ีฃีดีขีฅีฉ', 'ีฟีซีฟีกีถ', 'ีกีถีฃีฅีฟ', 'ีฝีกีฝีกีถ', 'ีขึีคีตีก', 'ีฉีกีญีซีฎ', 'ีฐีกีทีซีท', 'ีณีซึีกีถ', 'ีฏีกีญีซีน', 'ีพึีกึีซ', 'ีฃีกีณีกีณ', 'ีฏีกีตีกีถ', 'ีฏีกึีกีบ', 'ีฌึีฟีฅีฝ', 'ีฐีธีฝีฅีฌ', 'ึีกีฆีซีฝ', 'ีธึึีขีกีฉ', 'ีกีถีดีซีฟ', 'ีจีดีบีฅีฌ', 'ีฎีธึีกีฌ', 'ีกีฏึีซีฆ', 'ีฏีทีฅีผึ', 'ีฉีผีนีธีฒ', 'ีกีฌึีธึ', 'ีถีถีปีฅีฌ', 'ึีกีฏีกีถ', 'ีกีถึีธึีด', 'ีฐีฅึีธีฝ', 'ีญีถีกีดึ', 'ีธึีฆีขีฅีฏ', 'ีฏีกึีซึ', 'ีขึีคีธีฟ', 'ีงีฉีซีฏีก', 'ีกีฏีธึีถึ', 'ีดีกีฌีธึีญ', 'ีฎีฒึีซีค', 'ีดีฅีฟึีธ', 'ีฎีบีฟีธึีถ', 'ีกีขีญีกีฆ', 'ีฅึีฏีกึ', 'ีขีธีฌีธึีฏ', 'ีฉีซีฉีฅีผ', 'ีฅีผีตีกีฏ', 'ีฝีฏีซีฆีข', 'ีธึีฟีฅีฝีฟ', 'ีกีฏีกีถีป', 'ีดีฅีถีกีฏ', 'ีฝีธึีฟีกีฏ', 'ึีกีฃีธีฟ', 'ีฉีฉีฅีถีซ', 'ึีบีฅึีก', 'ีธึีฒึีธึ', 'ีดีธีฌีธึ', 'ีคีซีดีกีฏ', 'ีคีฅีฒีซีถ', 'ึีกีถีกีฏ', 'ีขีกึีคีซ', 'ีฟีกึีฅึ', 'ีฉีทีทีกีฌ', 'ีฐีกีฟีซีฏ', 'ีถีฝีฟีฅีฌ', 'ีญึีณีซีฉ', 'ีฏีตีกีถึ', 'ีดีฏีถีซีฏ', 'ีบีซีฉีธีถ', 'ึีถีธึึ', 'ีกีบึีฅีฌ', 'ึีถีถีฅีฌ', 'ีฎีธึีกีถ', 'ีฝีบีซึีฟ', 'ีนีฅีนีฅีถ', 'ีฉีกีพีซีท', 'ีฉีธีทีกีฏ', 'ึีฅึีดีก', 'ีฌีธีฒีกึ', 'ีดีผีกีตีฌ', 'ีฃีธึีถีกีฟ', 'ีกีฒึีกีถ', 'ีฎีกีดีธีถ', 'ีซีฝีฌีกีด', 'ีฏีกึีธีฒ', 'ีดีกีฎีธึีถ', 'ีฉีซึีกีญ', 'ีฐีธึีฌีซีฝ', 'ึีธึึีกีฏ', 'ีทีซึีซีด', 'ีถีฅึีฅีฌ', 'ีทีถีนีฅีฒ', 'ีฅึีฅีญีก', 'ีฟีซีฏีซีถ', 'ีผีกีขีซีฆ', 'ีกีถีฟีซีฏ', 'ีบีกึีธีถ', 'ึีธีฉีธีฉ', 'ีขีกีชีซีถ', 'ีฟีฆึีธึีฏ', 'ีฏีซีฝีกีฟ', 'ีฏีผีถีกีฟ', 'ีดีธีฒีฅีฝ', 'ีฐีกึีกีพ', 'ึีกีฏีฅีฌ', 'ึีธีญีฅีฌ', 'ีถีซีฆีกีฏ', 'ีทีธึีทีกีถ', 'ีฟีธีถีฅีฌ', 'ีขีซีขีกึ', 'ีฉีกึีธีถ', 'ีฟีถีฟีฅีฝ', 'ีดีฏึีกีฟ', 'ีฐีกีถีธึีด', 'ีฏีฅึีซึ', 'ึึีฏีซีน', 'ีฝีฅึีซีก', 'ีกีฏีถีธึ', 'ีขีกีฌีซีฏ', 'ีฏีดีกีญึ', 'ีคีกีฏีซีน', 'ีธึีฝีกีฌ', 'ีปีกีฐีฅีฌ', 'ีฏีธีบีซีฟ', 'ีขีกึีซึ', 'ีกีถีฉีซีพ', 'ีกีผีธีฒีป', 'ีขีธีพีฅีฌ', 'ีฐีตีธึีฝีถ', 'ีกีถีขีกีถ', 'ีฉีผีนีฅีฌ', 'ีฐีธีพีกีฆ', 'ีฏีธีทีซีฏ', 'ีธีฒีขีกีฌ', 'ีดีธึีดีซีก', 'ีฏีกีถีธีถ', 'ีณีกีทีกีฏ', 'ีขีกีชีกีฏ', 'ีขีกีถีธึีฏ', 'ีกีดีกีตีซ', 'ึีกึีธีฆ', 'ีดีธีคีฅีฌ', 'ีพีณีผีฅีฌ', 'ีพีกีฝีกีฌ', 'ีถีฅีฒีธึึ', 'ีฎีซึีกีถ', 'ีฏีกีพีกีฟ', 'ีพีกึีกีฆ', 'ีญีฌีธึึีค', 'ีกีฝีธึีซ', 'ีกีฒีธีฉึ', 'ีธีนีซีถีน', 'ีขีฏีฌีซีฏ', 'ีคีกีฐีธึีฏ', 'ีทีฅึีธึ', 'ีพีกีฆีฅีฌ', 'ีฅีฆีกีฏีซ', 'ีฝีซีฃีกึ', 'ีฐีผีนีกีฏ', 'ีฝึีพีกีฏ', 'ีฐีดีกีตึ', 'ีฟีกึีกึ', 'ีพีกีฐีกีถ', 'ีดีกึีซีก', 'ีญีฅีฌีกีผ', 'ีฃีฅีฟีซีถ', 'ีฝีซึีธีฒ', 'ีกีพีฅีฌีซ', 'ีถีฅีญีธึึ', 'ีชีธีฒีธีพ', 'ีขีผีถีกีฏ', 'ีฉีธีพีซีน', 'ีณีฆีดีฅีฌ', 'ีฏีธีฟีฅีด', 'ีฏีกีฟีกึ', 'ีฐีธีพีซีพ', 'ีดีซีถีนึ', 'ีขีกีฆีธึีฏ', 'ีฅีฒีตีกีด', 'ีจีถีฏีฅึ', 'ีขีฅีฏีธึ', 'ีคีกีฐีซีณ', 'ีฅึึีกีฏ', 'ึีฌีธึีถีฃ', 'ีฅึีฃีซีน', 'ีดีซีปีธึีฏ', 'ีกีฟีฌีกีฝ', 'ีฝีซีฝีฅีผ', 'ีฌีธีฌีซีฏ', 'ีกีบึีซีฌ', 'ีฉึีถีธึ', 'ีฟีกีฟีซีฏ', 'ีฝีดีขีกีฏ', 'ีกีถีฆีฅีถ', 'ีคีกีถีกีฏ', 'ึีฅีฉีกีฏ', 'ีปีซีฐีกีค', 'ีกีถีธึึีป', 'ีกึีฉีธึีถ', 'ีฝีซึีกีฎ', 'ีดีฟึีธึีฏ', 'ีทึีฅึีฉ', 'ีฐีธึีทีธึีด', 'ีฏีธีขึีก', 'ีฅีฌีธึีตีฉ', 'ีพีกีฒีธึึ', 'ีฏึึีธีฟ', 'ีฏีกีถีฅึ', 'ีกีฒึีกีฟ', 'ีฟีกึีฝีซ', 'ีถีกีดีกีฏ', 'ีญีธีชีธีผ', 'ีญีผีบีธีฟ', 'ีฏีกีตีธึีถ', 'ีฅึีกีทีฟ', 'ีกีดึีกีฏ', 'ีฏีกีธึึีซ', 'ีบีกีฐีธึ', 'ีฑีพีกีฑึ', 'ีฐีกีณีกึ', 'ีฐีธึีชีฏีธึ', 'ีฟีกีพีกึ', 'ีผีธึีขีฌีซ', 'ีพีฆีฏีกีบ', 'ีฐีกีฟีธึีฏ', 'ีฆีธึีฅีฒ', 'ีกีฒีกีถีฑ', 'ีคึีธึีตีฉ', 'ีฉีผีนีธึีถ', 'ีฃีซีฟีกีฏ', 'ีฝึีขีซีน', 'ึีกีฒีกึ', 'ีฐีกีฟีธึีด', 'ีกีฎีฅีฌีซ', 'ีฏีธึึีฎึ', 'ีฐีกีดีกึ', 'ีฉีธึีฉีกีฏ', 'ีฐีบีกึีฟ', 'ีฏีฟึีธีถ', 'ีกีถีฑีกีพ', 'ีฐีกีฆีกีฌ', 'ีบีธีนีกีฟ', 'ีนีธึีธึ', 'ีกีขีฅีฒีก', 'ีฟีซีบีกึ', 'ีขีถีกีฆีค', 'ีฝึีธึีถึ', 'ีฉีฅีถีซีฝ', 'ึีกีฒึึ', 'ีฉีฆีฅีถีซ', 'ีญีกีฒีกีฒ', 'ีญีธึีกีถ', 'ึีกีขีขีซ', 'ึีกีดีซีน', 'ีฎีธึีกีฏ', 'ีฃีธึีทีกีฏ', 'ีฝีกีถีซีฏ', 'ึีกีฉีซีฌ', 'ีบีฅีบีฅีถ', 'ึีกีถีธีถ', 'ีญีฝีฟีซีพ', 'ีกีผีถีฅีฟ', 'ีฏีกึีฅีฌ', 'ีบีถีคีฅีฌ', 'ีฝีถีธีฟีซ', 'ีฐึีคีฅีฐ', 'ึึึีกีถ', 'ีทีกีบีซีฏ', 'ีธึีฒีฅึีฑ', 'ีคีกึีกีฏ', 'ีชีกีถีซึ', 'ึีถึีธึีท', 'ีทีซีถีฅีฌ', 'ีดีฅีคีกีฌ', 'ีฏีซีฉีกีผ', 'ีปึีฐีธีฝ', 'ีฅึีคีซีฏ', 'ีถีฆีธีพึ', 'ีฐีกีฆีกึ', 'ีกึีฎีกีฉ', 'ีขีกึีซีฌ', 'ีณีฏีธึีตีฉ', 'ีฃีกีพีกีผ', 'ีฏีกีพีซีณ', 'ีฌีกึีธึีด', 'ีฝีธีญีธึีฏ', 'ีฏีกีฉีฝีก', 'ีกีฟีกีฒีฑ', 'ีดีฅีฉีธีค', 'ีฏีผีพีฅีฌ', 'ีฎีซีฎีกีฏ', 'ีฌีฅีดีธึึ', 'ีถีฅึีธึีช', 'ึีถึีธึีด', 'ีปีถีปีฅีฌ', 'ีบีกีถีซึ', 'ีดีกีฝีธีถ', 'ีฏีธีฟีธีท', 'ีดีฆีฏีซีฉ', 'ีกีผีตีธึีฎ', 'ีฎีซีฎีกีฒ', 'ีฃีถีคีซีฏ', 'ีฏีกีทีพีฅ', 'ีผีฅีฐีกีถ', 'ีญีถีคีซึ', 'ีกึีดีกีฟ', 'ีฌีธีฒีกีฌ', 'ีกีฒีตีธึีฝ', 'ีคีซีดีฅีฌ', 'ีบีกีฟีซีพ', 'ีฐีกีดีกีผ', 'ีบีฒีบีฅีฒ', 'ีฃึีบีกีถ', 'ีฐีซีทีฅีฌ', 'ีฉึีปีฅีฌ', 'ีถีกีญีซึ', 'ีผีฅีชีซีด', 'ีฏีถีณีซีผ', 'ีฃีถีกึึ', 'ีฝีถีคีซีฏ', 'ีฃีฅีฟีกีฏ', 'ีฟีซีบีซีฏ', 'ีฆีพีกึีฉ', 'ีฒีกีฆีกีญ', 'ีขีกึีซีฏ', 'ีญีดีซีนึ', 'ีดีฅีคีซีก', 'ีฝีกีฏีกีพ', 'ีบีกึีกีบ', 'ีพีกีผีซีน', 'ีฃีซีฌีกีฝ', 'ีฃีกีฆีกีถ', 'ีธีฝีฟีกีถ', 'ีทึีพีฅีฌ', 'ีฅึีซีถีป', 'ีกีถีคีกีด', 'ีฅีฒีธึีถีฃ', 'ีดีซีกีตีถ', 'ีดีกึีฅีฌ', 'ีฎีกึีกีพ', 'ีฌีกึีธีฒ', 'ีบีกึีกีถ', 'ึีธึีผีกีฏ', 'ีกีถีฟีธึีถ', 'ีคีชีฃีธีฐ', 'ีถีกึีคีซ', 'ีฐีถีนีฅีฌ', 'ึีธึีฅีถ', 'ีฏีธีดีซีฏ', 'ีฉีดึีกีฎ', 'ีฑีตีธึีคีธ', 'ีฏีกีดีกึ', 'ีซีถีฅึีฟ', 'ีฅึีฅีฏีธ', 'ีฉีทีพีกีผ', 'ีนีกึีซึ', 'ีฏีถึีฅีฌ', 'ีฟีกึีกีฆ', 'ีฐีกีทีซีพ', 'ีณีกีทีฅีฌ', 'ีพีกีถีธีฒ', 'ีกีฒีพีฅีฝ', 'ีบีซึึีก', 'ีฝีฉึีฅีฝ', 'ีกีถีฝีฅีผ', 'ีฎีกีถีธีฉ', 'ีกีฏีธึีดีข', 'ีกึีฃีธีถ', 'ีคีกึีถีซ', 'ีฐีธีฃีถีก', 'ีคีธีฌีกึ', 'ึีกีทีฅีฌ', 'ีฌีธีขีขีซ', 'ีขีกีฌีฅีฟ', 'ีผีฅีฃีขีซ', 'ีณีกีฃีกึ', 'ีฏีฅีฝึึ', 'ีถีธีญีกีฆ', 'ีฆีธีดีขีซ', 'ีดึึีธึีด', 'ีฟีฅึีฝีฟ', 'ึีซีฌีฟึ', 'ีกีผีพีกีฏ', 'ึึีฏีฅีฌ', 'ีพีกึีกีฏ', 'ีฌีกีฏีธีฟ', 'ีฝึีผีธึ', 'ีฟีญีดีกึ', 'ีทีกึีกึ', 'ึีซีดีซีฏ', 'ีฑีฃีฟีฅีฌ', 'ีคีกีฟีฅีฌ', 'ีกีตึีฅีฌ', 'ีฐีกีนีกีถ', 'ึีญึีธึีถ', 'ีฝีธีฒีกีฌ', 'ีคีกีคีกึ', 'ีฝีดีขีธึีฏ', 'ีฐีกีฝีกีฏ', 'ีฝีฏีตีธึีผ', 'ีฌีธึีฝีกีถ', 'ีกีถีฆีธึ', 'ีขีดีขีธึีฌ', 'ีณีกึีฅีฌ', 'ีญีฒีณีกีฌ', 'ีฐีกีฝีกีฎ', 'ีขีธึีฝีก', 'ีฎีกึีซึ', 'ีบีกึีฅีฌ', 'ีฝึีซีฏีก', 'ีคีฅีฌีฟีก', 'ีฎีธึีฒีกีฏ', 'ีฏึีธึีค', 'ีขีกึีกีฏ', 'ีฐีถีกึึ', 'ีฏีกีฏีกีธ', 'ีญีธีทีธึ', 'ีทีฅึีฅึ', 'ีจีถีฟีซึ', 'ีชีบีฟีกีฌ', 'ีฏีกีฒีซีถ', 'ีขีทีฟีซีฏ', 'ีฉีกีฉีกึ', 'ีดีซีปีซีถ', 'ีกึีทีกีพ', 'ีบีฟีธึีตีฟ', 'ึีคีกีนีธึ', 'ีฏีธีฏีธีฝ', 'ึีซีฆีซีฏ', 'ีคีกีปีฅีฌ', 'ีคีซีดีธึีด', 'ีซีดีกีฝีฟ', 'ีนีธึีซีฏ', 'ีฐึีกีทึ', 'ีฑีกีฃีกึ', 'ีฉีกีฌีซีข', 'ีฟีกีขีกีฟ', 'ีกึีปีธึีฏ', 'ีบีกึีฃึ', 'ีกีฟีตีกีถ', 'ีกีปีฌีซีฏ', 'ีกึีตีธึีถ', 'ีญีกีขีฅีฌ', 'ีฆีธีคีธึีด', 'ีญีธีฝีฅีฌ', 'ีผีฅีฟีซีถ', 'ีฝีญีฅีดีก', 'ีฏีธีกีฌีก', 'ีถีฅีญีฅีฌ', 'ีฏีบีนีธึีถ', 'ีขึีคีฅีฌ', 'ีฏีกีบีซีน', 'ีฏีฟึีธึีฏ', 'ีฏีกีฉีธีค', 'ีกีฒีกีถีค', 'ีฉีดีขีธึีฏ', 'ีฌีกีฆีฅึ', 'ีดีธีญีซึ', 'ีฌีธึึีฏีซ', 'ีขีกึีซีน', 'ีฝีกีฌีธึ', 'ีกีฏีธึีค', 'ึีธีฉีธึีฏ', 'ีฝีธึีฌีธึ', 'ีคีคีดีซีฏ', 'ีนีซีถีกึ', 'ีทีฌีคีซีฏ', 'ีทีผีกีตีฌ', 'ีกีฆีคีฅีฌ', 'ีบีกีฌีกีฟ', 'ีขีธึีธีฟ', 'ึีฅีฟีธึึ', 'ีนีกีดีกีถ', 'ีคึีพีกีฃ', 'ีญีฒีณีธึีฏ', 'ีฟีธีดีกีฟ', 'ีฝีฅีฆีธีถ', 'ีทีกีพีซีฒ', 'ีญีกีพีซีฎ', 'ีญีดีขีกีฏ', 'ีฎีถีธึีถีค', 'ีขีกีถีกีถ', 'ีถีชีธึีตีฃ', 'ีขีชีซีทีฏ', 'ีฐีธึีดีธึ', 'ีคีซีฅีฟีก', 'ีกีถีญีถีก', 'ีฌีธึีฝีซีถ', 'ีนึีถีกีฒ', 'ีพีธีฏีกีฌ', 'ีฝีฟีซีถึ', 'ีญีถีกีดีซ', 'ีถีฅึีฏีก', 'ีคึีธีทีด', 'ีคึีกีดีก', 'ีฝีฟีพีกึ', 'ีฏีฌีซีดีก', 'ีกีถีกีฌีซ', 'ีญึีธีญีฟ', 'ีขีฅึึีซ', 'ีฉึีฉีธึึ', 'ีฝีซึีธึีถ', 'ีฉีฅึีกีณ', 'ีญีกีนีฅีฌ', 'ีดีกีถีธึีฏ', 'ีฉีฌึีกีฟ', 'ีคีชีพีกึ', 'ีถีทีฟีกึ', 'ีนึีฌีกีญ', 'ีฝีซึีฅีฌ', 'ีคีกีฌีกึ', 'ีฎีกีฏีธีฒ', 'ีฆีฃีฅีฝีฟ', 'ีขีกีญีธึีด', 'ีฐีธีฌีธีพ', 'ีขีธึีชีซีน', 'ีฐีซีดีกึ', 'ีฝึีณีฅีฌ', 'ีฐีฅีฒีธึีฏ', 'ีกึีญีซีพ', 'ีฝีฟีพีฅึ', 'ีณีถีทีธึีด', 'ีดีฅีฌีซึ', 'ีฐีธึีฆีซีน', 'ีฏีกีญีฅีฌ', 'ีขีซีฆีธีถ', 'ีกีถีคีธึึ', 'ีกีบีกีฏีซ', 'ีกีพีฌีฅีฌ', 'ึีฎีตีกีฌ', 'ีกีพีกึีฟ', 'ึีฝีดีกีถ', 'ีฐีถีธีฟีซ', 'ีญีทีทีธึ', 'ีขีฅึีฅีฌ', 'ีขีผีถีฅีฌ', 'ีฝีถีกีถีฏ', 'ีญีณีธึีฒีซ', 'ีพีฅึีซีถ', 'ีฌึีตีกีฌ', 'ีขีกึีฅีฌ', 'ีขีฅีฒีฌีธึ', 'ีกึีดีกีพ', 'ีพีซีณีกีฏ', 'ีฐีฝีฏีซีน', 'ีฐีกีพีกีฟ', 'ีฃีฟีถีฅีฌ', 'ีฅึีทีซีฏ', 'ีดีฟีถีฅีฌ', 'ีฏีธีณีกีฏ', 'ีฃีฟีกีฎีธ', 'ีดีกีฝีธึึ', 'ีพีซีบีกีฏ', 'ีฏีกีฉีซีฌ', 'ีฐีธึีกีถ', 'ีฎีถีพีฅีฌ', 'ีกึีฏีกีฎ', 'ีฏีธึีกีฎ', 'ีฅึีกีถีฃ', 'ีฝีกีฌีซีฏ', 'ีญึีฉีซีถ', 'ีฌีพีกึึ', 'ีธีฝีฟึีฅ', 'ีบีฒีซีถีฑ', 'ีฏีธีฒีกีฏ', 'ึีกึีธึีฏ', 'ีกีฒีปีซีฏ', 'ีฏีพีกึึ', 'ีฏีธีฒีธีพ', 'ีขีตีธึีปีฅ', 'ีฎีกีดีฅีฌ', 'ีดีกีดีธึีฌ', 'ีญีกึีกีถ', 'ึึึีซีป', 'ีฝีตีธึีชีฅ', 'ีดีธึีฉีซ', 'ีถีซีฏีฅีฌ', 'ีณีกีฐีซีณ', 'ีญีธึีณีกีบ', 'ีฐีกีพีกึ', 'ีฏีผีผีกีฌ', 'ีฆีถีถีฅีฌ', 'ีฃีกีฌีซึ', 'ีฌีกีบีทีก', 'ึึีฅีถึ', 'ีฏีฅีผีกีฝ', 'ีพีฟีกีถีฃ', 'ีฐีกีณีกีญ', 'ีฝีกีบีกีฟ', 'ีฃีธีผีธีฆ', 'ีฐีกีฟีกีฏ', 'ีฏีธึีฆีซีฏ', 'ีฅีฒีฅีฃีถ', 'ีพีกึีฅีฌ', 'ีคึีกีญีฟ', 'ีฉีฉีพีกีท', 'ีดีกีถึีง', 'ีดีซีฟีธึีด', 'ีฐีฅีฎีกีถ', 'ีกีถีคีฅีด', 'ึีฅึีฅีฌ', 'ีกีบีกีฃีก', 'ีฑีฃีพีฅีฌ', 'ีฃีกีพีกีฉ', 'ีกีดีขีธีญ', 'ีฝึีผีฅีฌ', 'ีธีผีถีกีฌ', 'ีคีซีบีธึีฏ', 'ีฐีฅีฟีซีถ', 'ีฉีกีฏีธึ', 'ีฏีกีฏีกีน', 'ีฟีธีถีถีก', 'ีฝีบีธึีฟ', 'ีคีธึีคีธึีฏ', 'ีฏีกึีซีถ', 'ีฅีผีกีฏีซ', 'ีฐึีทีฅีป', 'ีกึีคีธึีฏ', 'ีฏีธีนีฅีฌ', 'ึึึีธึึ', 'ีฉีกึีธึ', 'ีฅึีฃีฅีฌ', 'ีกีฏีฟีซีพ', 'ีถีซีฐีกึ', 'ีกีดีธึึ', 'ีดีธีคีฅีด', 'ีคีกีชีกีถ', 'ีฎีฒีธีฟีฅ', 'ีญีธีถีกีพ', 'ีถีธึีฅีฏ', 'ีฉีพีกีถึ', 'ึีกึีกีญ', 'ีกีถีขีซีฎ', 'ีฅึีคีธึีด', 'ีฟีกีปีซีฏ', 'ีกีณีตีธึีถ', 'ีฏึีฏีซีถ', 'ึีซีดีซีก', 'ีถีกีพีกีฏ', 'ีฉีกึีฅีฌ', 'ีฉีกีฌีกีถ', 'ีฏีกีฟีกีฏ', 'ีธีนีญีกึ', 'ีฉีกีฒีฅีฌ', 'ีขีกึีธึีด', 'ีขึีซีถีฑ', 'ึีธึีฅีฌ', 'ีฅึีฏีซึ', 'ีกีถีพีกีญ', 'ีถีฅีฟีฅีฌ', 'ีฟีกึีกีฏ', 'ีนีดีธึีทีฏ', 'ีฌึีกีฟีธึ', 'ีณีธีบีกีถ', 'ีดีกีฟีซีฟ', 'ีขีธีขีซีฏ', 'ีฌีตีกึีค', 'ีฉีผีซีนึ', 'ีบีฒีฟีธึ', 'ีขีกึีกีฟ', 'ีฟีกีถีฃีธ', 'ึีกีพีฅีฌ', 'ีฝีธึีฌีซีน', 'ึีกึีธีฝ', 'ีบีกีบีซีฏ', 'ีฏีกีถีกีน', 'ีฝีฏีฝีฅีฌ', 'ึีกีดีกึ', 'ีดีซีปีกีฟ', 'ีญีกีทีฅีฌ', 'ีนีกึีนีซ', 'ีฅีผีกีถีค', 'ีขีผีถีซีน', 'ีกีฃีผีกีพ', 'ีกีฎีกีถึ', 'ีปีธึีฉีกีฏ', 'ีฆึีธึีตึ', 'ีกีถีณีกึ', 'ีดีธึีธึึ', 'ีฏีฅีผีซีฏ', 'ีบีกีฐีกีฏ', 'ึีธึึีธึีด', 'ีบีกีทีกึ', 'ีฎีฅีฎีฅีฌ', 'ีคีชีธีญึ', 'ีปึีพีฅีช', 'ีกีฒีดีธึีฏ', 'ีทีถีนีฅีฌ', 'ีทึีปีกีถ', 'ีคีธีฃีดีก', 'ีขีฌึีกีฏ', 'ีคีกีตีกีฏ', 'ีผีฅีฆีธึีฝ', 'ีทีซีฟีกีฏ', 'ีฅีฆีฅึึ', 'ีฑีกีพีกึ', 'ีดีฉีฅึึ', 'ีฌีซีฆีฅีฌ', 'ีฃีธีฐีกึ', 'ีพีกีผีธีค', 'ีฝีฅีถีกีฟ', 'ีขีธึีชีธึีด', 'ีขีกึีฑึ', 'ีณีกีดึีก', 'ีกีถีกีดีบ', 'ีคีธีถีธึ', 'ีถีผีถีกีฏ', 'ีฐีธีบีธีบ', 'ึีธึีนีซีฏ', 'ีทีกีฒีกึ', 'ีบีกึีฟึ', 'ีฟีถีปึีซ', 'ีบีธึึีกีฏ', 'ีฏีกีตีฝึ', 'ีฏีกึีธีฟ', 'ีฏีธีฏีซีฏ', 'ีฐีกีดีธีพ', 'ีผีธีขีธีฟ', 'ีกึีฎีซีพ', 'ีดีกีฃีซีฌ', 'ีนีกึีธึีด', 'ีฐีกีพีกีถ', 'ึีกีพีธึ', 'ีญีถีฑีธึ', 'ีดีธึีฅีญ', 'ีฝีบีกีฝึ', 'ีฟีกีฏีกีผ', 'ีฟีกีถีซึ', 'ีฅีฒึีถีซ', 'ีฃีธีดีฅีท', 'ีฏีฝีฏีซีฎ', 'ีฆีฃีธึีตีท', 'ีฌีซีฝีฅีผ', 'ีฝีฅีฌีกีพ', 'ีกีผีถีฅีฌ', 'ีกีดีธึึีซ', 'ึีทึีฅีฌ', 'ีญีกีพีกึ', 'ีฏีธึีซีฆ', 'ึีถีถีซีน', 'ีกีถีฐีธีฃ', 'ีกีบีฟีกีฏ', 'ีฟีกีพีซีฒ', 'ีญีกีฒีธีฒ', 'ีฟีธีถีธึีฝ', 'ึีฅึีฅีฏ', 'ีบีกีฐีฅีฌ', 'ีฌีธีฒีกีฏ', 'ีฃีธึีดีกึ', 'ีดีซีฆีฅีฌ', 'ีธีฒีธึีฏ', 'ึีกึีกึ', 'ีฃีธีผีกีฌ', 'ีพึีฑีซีถ', 'ีฏีธึีฅีฏ', 'ีดีกีฟีกีฒ', 'ีฎีกีฒีซีฏ', 'ีขีกีถีกีฏ', 'ีฃีฅึีกีถ', 'ีฅีฒีฅีผีถ', 'ีญีซีฆีกีญ', 'ีกีถีฑึึ', 'ีฃีฅึีกีณ', 'ีฐีธีฃีธึ', 'ึีกีดีธึ', 'ีถีกีญีถีซ', 'ีขีซึีชีก', 'ีฃีฆึีธึ', 'ีฆีกีฟีซีฏ', 'ึีฃีถีฅีฌ', 'ีฟีกีบีกีถ', 'ึีกีดีฅีฌ', 'ึีกีตีฟีฅ', 'ีฏึีฏีฅีฝ', 'ีฌีกึีฅีฌ', 'ีฏึีณีกีฟ', 'ีพีกีฃีธีถ', 'ีฝีซีขีฅีญ', 'ีกึีฑีกีถ', 'ีฝึีซีถีฃ', 'ีฐีกีดีฅีด', 'ีกีฌีตีธึึ', 'ีฏีบีนีฅีฌ', 'ีกึีฌีธึ', 'ีฏีกึีกีฟ', 'ีฉีทีทีธึ', 'ีธึีถีฅีฌีซ', 'ีถีกีดีกีฆ', 'ีฏีกีบีธึ', 'ึีธีฒีธึ', 'ีฏึีฎีฅีฌ', 'ีกีถีดีกีฐ', 'ีฅีฌึีงีป', 'ีคีธึีฝีฟึ', 'ีบีกีฟีซีช', 'ีฎีกีฎีธึีฏ', 'ีขีธีฒีธึ', 'ีทีกึีกีถ', 'ีคีซีฟีฅีฌ', 'ีฐีฅีฒีฅีฒ', 'ึีธีฒีธึีถ', 'ีฆีฃีกีฝีฟ', 'ีฟีกีทีฅีฒ', 'ีฉีกึีกีญ', 'ีฟีฅีฝีซีฌ', 'ีฝีธีพีกีฎ', 'ีบีกีฏีกีฝ', 'ีฝีฟีฅึีป', 'ีปีฅีผีธึ', 'ีฃีถีคีกีฏ', 'ีคีถีนีซีฏ', 'ีถีกีดีธึีฝ', 'ีบีกีฝีซีพ', 'ีฃึีฃีซีผ', 'ีพีกีตึีซ', 'ีพีซีฝีฏีซ', 'ีฎีกีฌีฅีฌ', 'ีบีธีบีธึ', 'ีฏึีฎีธีฒ', 'ีกีถีฏีธีน', 'ีบีถีคีธึีฏ', 'ีฏีณีฒีกีฏ', 'ีทีกีขีกีฉ', 'ีฐีธึีถีซีฝ', 'ีดีกีฟีธึีผ', 'ีฝีกีดีขีธ', 'ีฐีกีฌีพีก', 'ีฟีธีฏีธึีถ', 'ีถีพีกีฝีฟ', 'ีกีดึีธึ', 'ีฟีกีบีกีฏ', 'ีฏีซีฟีฅีฌ', 'ึีฉึีกีถ', 'ึึีฝีซีค', 'ีฎีกีพีกีฌ', 'ีดีฟึีกีฏ', 'ีธีฟีถีกีฏ', 'ีธีฐีดีกีฏ', 'ีกีถีฏีกีบ', 'ีธีฌีธึีฟ', 'ีทีถีธึีฐ', 'ีกึีกึึ', 'ีปีธีฏีกีฟ', 'ึีกีฉีฅีฉ', 'ีฃีกีฌีกึ', 'ีคีฒีตีกีฏ', 'ีดีธีฟีซีฏ', 'ีฆีกีพีกีฏ', 'ีฅีฒีถีซีฏ', 'ีฟีกึีซึ', 'ีฟีธีฏีธีฝ', 'ีดีกีถีฃีธ', 'ีญีธึีณีธึีณ', 'ีกึีฒีกีถ', 'ีกึีณีซีณ', 'ีญีธึีฅีฌ', 'ีดีฅีญีกีฏ', 'ีฉีกึีธึึ', 'ีคึีกึีซ', 'ีฐีกีฟีฅีฌ', 'ีฆีซีปีธีฒ', 'ีฉีดีขีซีฏ', 'ีฉีดีขีซึ', 'ีฝึีขีฅีฌ', 'ีดีกีตีซีฝ', 'ีณีธึีผีกีฏ', 'ีฏีธีนีธึีด', 'ีบีถีคีธึีด', 'ึีธีนีฅีฌ', 'ีกึีคีกึ', 'ีฐีถีกีธีณ', 'ีฏีกึีซีณ', 'ีฝีธีญีกีฏ', 'ีฆีถีถีธีฒ', 'ีกีฝีธึีตีฉ', 'ีฐีธีพีซีฟ', 'ีซีทีญีกีถ', 'ีฃีกีฃีกีฉ', 'ีธึีผีฅีถีซ', 'ีฏีซีฝีฅีฌ', 'ีฌีธึีฎีธึีด', 'ีบีซีฟีกีฏ', 'ีฝีกีดีขีก', 'ีฉีกีถีกึ', 'ีจีดีขีซีท', 'ีนีพีฅึีฉ', 'ีดีฅีฟีกีฒ', 'ีคีฅีฏีกีถ', 'ีกีถีฏีธึีด', 'ีกีถีธีถีฝ', 'ีบีกึีฅีฏ', 'ีกึึีธีฟ', 'ีขึีธีถีฆ', 'ีฏีกึีกีพ', 'ีกีถีฏีกีญ', 'ีญีถีธึีซ', 'ีฏีถีณีซีฉ', 'ีฐีฝีฟีกีฏ', 'ีฎีฎีธึีดีข', 'ีชีญีฟีฅีฌ', 'ีพีซีทีกีบ', 'ีฉีกีถีฑึ', 'ีดีฅีผีฅีฌ', 'ีกีตีฝึึ', 'ีฝีญีฟีธึ', 'ีพีฆีถีธึ', 'ีญีกีผีกีฟ', 'ีฃีธึีฌีบีก', 'ีกีผีธึีตีฃ', 'ีฎีธีพีกึ', 'ีกีถีฟีกีผ', 'ีดึึีฅีฌ', 'ึีฉีตีกีฏ', 'ีดีกีฆีธีฟ', 'ีฝีถีธึีถีค', 'ีนีฅีฆีธึ', 'ีฟีกีทีฅีฌ', 'ีกีดีขีกึ', 'ีฏึีธึีถีฏ', 'ีฃีซีทีฅึ', 'ีฉีกีผีกึ', 'ีดีกีผีกีถ', 'ีกีฆีคีกีฏ', 'ีฅึีฏีกีฉ', 'ีถีทีฅีถีซ', 'ีญีธีผีธีน', 'ีขีฅึีกีถ', 'ีณีกีฏีกีฟ', 'ีฝีฅีฒีกีถ', 'ีฝีฟีธึีตีฃ', 'ีฐีธีฏีฅีต', 'ีกีณีธึึีค', 'ีฆีธีคีฅีฌ', 'ีฝีบีธึีถีฃ', 'ีดีกึีธึึ', 'ีฝีกีผีกีฎ', 'ีกึีฑีกีฏ', 'ีถีธีฟีกึ', 'ีพีกีผีฅีฌ', 'ีฏีฟึีซีณ', 'ีฐีกีฝึีฅ', 'ีทึีปีฅีฌ', 'ีบีกีฃีฅีฌ', 'ีฏีฅีถีกึ', 'ีฏึีบีกีฏ', 'ีกีฒีฅึีฝ', 'ีฝีกีพีกีถ', 'ีฟีพีตีกีฌ', 'ีถีธึีซึ', 'ีขีธีฝีธึ', 'ีนีกึีฅีฌ', 'ีฝีธีฒีธึีถ', 'ีถีบีกีฝีฟ', 'ีฏีฟึีฅีฌ', 'ึีฝีญีฅีฌ', 'ีฐึีฉีซีผ', 'ีฏีถีธึีถึ', 'ีฏีกีบีกึ', 'ีนีถีนีซีถ', 'ีธึีฌีธึีถึ', 'ีฌีซีถีฅีฌ', 'ีฆีธึีผีถีก', 'ีขีฌีฉีกีฏ', 'ึีฎีถีฅีฌ', 'ีฟีฅีฝีธึีน', 'ีฐีถีนีฅีฒ', 'ีบีฟีฟีฅีฌ', 'ีณีกีฒีกีฟ', 'ีฝึีณีฅึ', 'ีฉีธีถีซึ', 'ีกีตึีธึ', 'ีญีญีธึีถีป', 'ึีธีฌีฅีป', 'ีกีฝีบีฅีฟ', 'ีคีบึีธึ', 'ีฟีฏีฌีธึ', 'ีผีกีคีซีธ', 'ึีกีพีธีฟ', 'ีกีถีฐีกีด', 'ีคีธีคีธีท', 'ีบีกีฟีกีผ', 'ีขีถีธึีตีฉ', 'ีฝีฟีฅีฒีถ', 'ีฉึีดีฅีฌ', 'ีปีถีปีธึ', 'ีฎีกีฎีกีถ', 'ีดึีฝีฅีฌ', 'ึีฎีถีธีฒ', 'ีฃีกึีธึีถ', 'ีฟีกีณีกึ', 'ีฝีกีดีซีฉ', 'ึีกีพีฅีฌ', 'ีฌีกีพีกีท', 'ีกึีฝีธึ', 'ีดึึีซีฏ', 'ีคีซีดีกึ', 'ีฆีฒีปีธึีด', 'ีฉีฅึีธึีฏ', 'ีถีกีตีฅีฌ', 'ีฅีฌีถีฅีฌ', 'ีกีดึีธึ', 'ีขีธีชีธีช', 'ีฌึีพีกีฎ', 'ึึีฃีกีถ', 'ีคีกีฃีกีฒ', 'ีฐีกีฌีธึ', 'ีกีพีกีถีค', 'ีนีธีขีกีถ', 'ีฝีกึีธึ', 'ีฌีฎีธึีค', 'ีฟีกีผีฅีญ', 'ีฐีกึีซีน', 'ึีถึีธึีฒ', 'ึีดีฅีฃีก', 'ีฝึีขีกีถ', 'ีฉีกึีธึีถ', 'ีนีกีดีซีน', 'ีฎีถีฎีฒีก', 'ีฝีฟึีธึีฏ', 'ีกีถีฟีฅึ', 'ีกีถีฃีซีถ!', 'ีฃีธึีฝีกีถ'];
  if (WORDS.length === 0) console.error("Word list is empty!");

  // --- Correctly Sorted LOWERCASE Armenian Letters ---
  const sortedLetters = ['ีก', 'ีข', 'ีฃ', 'ีค', 'ีฅ', 'ีฆ', 'ีง', 'ีจ','ีฉ', 'ีช', 'ีซ', 'ีฌ', 'ีญ', 'ีฎ', 'ีฏ', 'ีฐ','ีฑ', 'ีฒ', 'ีณ', 'ีด', 'ีต', 'ีถ', 'ีท', 'ีธ','ีน', 'ีบ', 'ีป', 'ีผ', 'ีฝ', 'ีพ', 'ีฟ', 'ึ','ึ', 'ีธึ', 'ึ', 'ึ', 'ึ', 'ึ', 'ึ'];
  const allLetters = [...sortedLetters];

  // --- Keyboard Layout Definitions ---
  const keyboardAlphabeticalLayout = [sortedLetters.slice(0, 8),sortedLetters.slice(8, 16),sortedLetters.slice(16, 24),sortedLetters.slice(24, 32),[...sortedLetters.slice(32), '']];
  const keyboardPhoneticLayout = [['ีง', 'ีฉ', 'ึ', 'ีฑ', 'ีป', 'ึ', 'ึ', 'ีน', 'ีณ', 'ีช'],['ึ', 'ีธ', 'ีฅ', 'ีผ', 'ีฟ', 'ีธึ', 'ีซ', 'ึ', 'ีบ', 'ีญ'],['ีก', 'ีฝ', 'ีค', 'ึ', 'ีฃ', 'ีฐ', 'ีต', 'ีฏ', 'ีฌ', 'ีฎ'],['ีฆ', 'ีฒ', 'ึ', 'ีพ', 'ีข', 'ีถ', 'ีด', 'ีท', 'ีจ', '']];
  const LAYOUT_NAMES = {'alphabetical': 'ิฑิฒิณ โจ๏ธ','phonetic': 'ิฑีิด โจ๏ธ'};

  // --- Game Date and Word Logic ---
  let effectiveDate; 
  let isViewingPastGame = false; 
  let targetWord;
  let parsedTarget;
  let dateKey; 
  let dayOffset; 
  let gameNumber; 

  function setupDateAndWord(dateString = null) {
      const startYear = parseInt(START_DATE_STRING.substring(0, 4));
      const startMonth = parseInt(START_DATE_STRING.substring(5, 7)) - 1;
      const startDay = parseInt(START_DATE_STRING.substring(8, 10));
      const startDateUTC = Date.UTC(startYear, startMonth, startDay, 0, 0, 0, 0);
      const now = new Date();
      const todayUTC = Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), 0, 0, 0, 0);
      let effectiveDateUTC;
      isViewingPastGame = false;

      if (dateString) {
          const parts = dateString.split('-');
          let requestedDateUTC = NaN;
          if (parts.length === 3) {
               const reqYear = parseInt(parts[0]);
               const reqMonth = parseInt(parts[1]) - 1;
               const reqDay = parseInt(parts[2]);
               if (!isNaN(reqYear) && !isNaN(reqMonth) && !isNaN(reqDay)) {
                    requestedDateUTC = Date.UTC(reqYear, reqMonth, reqDay, 0, 0, 0, 0);
               }
          }
          if (!isNaN(requestedDateUTC) && requestedDateUTC <= todayUTC && requestedDateUTC >= startDateUTC) {
              effectiveDateUTC = requestedDateUTC;
              isViewingPastGame = true;
          } else {
              effectiveDateUTC = todayUTC;
              isViewingPastGame = false;
              if (window.history.replaceState) {
                   window.history.replaceState(null, '', window.location.pathname);
              }
          }
      } else {
          effectiveDateUTC = todayUTC;
          isViewingPastGame = false;
      }

      const diffMillis = effectiveDateUTC - startDateUTC;
      dayOffset = diffMillis >= 0 ? Math.floor(diffMillis / (1000 * 60 * 60 * 24)) : -1;
      gameNumber = dayOffset + 1;
      effectiveDate = new Date(effectiveDateUTC);
      const dailyTargetWords = WORDS.filter(word => !word.endsWith('!'));

      if (dailyTargetWords.length === 0) {
           targetWord = "ีฝีญีกีฌ"; 
           dayOffset = -1;
           gameNumber = '?';
      } else if (dayOffset < 0) {
           targetWord = "ีฝีญีกีฌ";
           gameNumber = '?';
      } else {
           targetWord = dailyTargetWords[dayOffset % dailyTargetWords.length];
      }
      parsedTarget = splitWord(targetWord);
      const keyYear = effectiveDate.getUTCFullYear();
      const keyMonth = String(effectiveDate.getUTCMonth() + 1).padStart(2, '0');
      const keyDay = String(effectiveDate.getUTCDate()).padStart(2, '0');
      const effectiveDateStringForKey = `${keyYear}-${keyMonth}-${keyDay}`;
      dateKey = `armenianWordle-${effectiveDateStringForKey}`;
      gameNumberDisplay.textContent = `ิฝีกีฒ #${gameNumber}`;
      if (isViewingPastGame) {
          gameNumberDisplay.title = `ิดีซีฟีธึีด ีฅึ ${effectiveDateStringForKey} ีญีกีฒีจึ ีีฅีฒีดีฅึี ีขีกึีฅีฌีธึ ีบีกีฟีดีธึีฉีตีธึีถีจึ`;
      } else {
          gameNumberDisplay.title = `ีีฅีฒีดีฅึี ีฟีฅีฝีถีฅีฌีธึ ีกีถึีกีฎ ีญีกีฒีฅึีจึ`;
      }
  }

  // --- Game State Variables ---
  let guesses = [];
  let currentGuess = [];
  let currentRowIndex = 0;
  let isGameOver = false;
  let messageTimeout;
  let keyStatuses = {};
  let currentLayoutName = localStorage.getItem(LOCAL_STORAGE_LAYOUT_KEY) || 'phonetic';
  let currentLayout = (currentLayoutName === 'phonetic') ? keyboardPhoneticLayout : keyboardAlphabeticalLayout;

  function saveState() {
    const state = { guesses, currentRowIndex, isGameOver, targetWord, keyStatuses };
    localStorage.setItem(dateKey, JSON.stringify(state));
    localStorage.setItem(LOCAL_STORAGE_LAYOUT_KEY, currentLayoutName);
    const todayForHistoryCheck = new Date();
    todayForHistoryCheck.setHours(0, 0, 0, 0);
    const isEffectiveDateToday = effectiveDate.getTime() === todayForHistoryCheck.getTime();
    if (isGameOver && isEffectiveDateToday) {
        try {
            const historyString = localStorage.getItem(LOCAL_STORAGE_HISTORY_KEY);
            let history = historyString ? JSON.parse(historyString) : [];
            if (!Array.isArray(history)) history = [];
            const currentDateString = effectiveDate.toISOString().split('T')[0];
            const currentGameNumber = gameNumber;
            const existingEntryIndex = history.findIndex(entry => entry.date === currentDateString);
            const newEntry = { date: currentDateString, number: currentGameNumber };
            if (existingEntryIndex > -1) history[existingEntryIndex] = newEntry;
            else history.push(newEntry);
            history.sort((a, b) => new Date(b.date) - new Date(a.date));
            localStorage.setItem(LOCAL_STORAGE_HISTORY_KEY, JSON.stringify(history));
        } catch (e) { console.error("Error saving game history:", e); }
    }
  }

  function loadState() {
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.body.classList.toggle('dark', savedTheme === 'dark');
    toggleBtnTheme.textContent = savedTheme === 'dark' ? 'โ๏ธ' : '๐';
    const savedLayoutName = localStorage.getItem(LOCAL_STORAGE_LAYOUT_KEY);
    if (savedLayoutName && LAYOUT_NAMES[savedLayoutName]) currentLayoutName = savedLayoutName;
    else currentLayoutName = 'phonetic';
    currentLayout = (currentLayoutName === 'phonetic') ? keyboardPhoneticLayout : keyboardAlphabeticalLayout;
    toggleBtnLayout.textContent = LAYOUT_NAMES[currentLayoutName];
    document.body.setAttribute('data-keyboard-layout', currentLayoutName);
    const savedStateJSON = localStorage.getItem(dateKey);
    if (savedStateJSON) {
        try {
            const savedState = JSON.parse(savedStateJSON);
            guesses = savedState.guesses || [];
            currentRowIndex = savedState.currentRowIndex || 0;
            isGameOver = savedState.isGameOver || false;
            keyStatuses = savedState.keyStatuses || {};
            for (const key in keyStatuses) {
               if (!['correct', 'present', 'absent', null].includes(keyStatuses[key])) delete keyStatuses[key];
            }
        } catch (e) {
            console.error(`Error loading saved state for ${dateKey}:`, e);
            resetGameState(); isGameOver = false;
        }
    } else {
        resetGameState(); isGameOver = false;
    }
    currentGuess = [];
  }

  function init() {
    const urlParams = new URLSearchParams(window.location.search);
    const dateParam = urlParams.get('date');
    setupDateAndWord(dateParam);
    loadState();
    buildBoard();
    buildKeyboard();
    redrawBoardFromState();
    updateKeyboardHighlight();

    if (isGameOver) {
        disableInput();
        const lastGuessString = guesses.length > 0 ? guesses[guesses.length - 1].map(g => g.letter).join('') : '';
        const wordForMessage = (localStorage.getItem(dateKey) ? JSON.parse(localStorage.getItem(dateKey)).targetWord : null) || targetWord;
        if (splitWord(lastGuessString).join('') === splitWord(wordForMessage).join('')) showMessage('๐ ีีกีฒีฉีกีถีกีฏ ๐', 0);
        else showMessage(`ิฝีกีฒีถ ีกีพีกึีฟีพีกีฎ ีงึ ิฒีกีผีจี ${wordForMessage}`, 0);
    } else {
        if (isViewingPastGame) showMessage(`ิฝีกีฒ #${gameNumber} (${effectiveDate.toISOString().split('T')[0]})`, 3000);
    }
    window.addEventListener('keydown', handlePhysicalKey);
    toggleBtnLayout.addEventListener('click', switchLayout);
    gameNumberDisplay.addEventListener('click', openPastGamesPopup);
    popupCloseButton.addEventListener('click', closePastGamesPopup);
    pastGamesPopup.addEventListener('click', (e) => { if (e.target === pastGamesPopup) closePastGamesPopup(); });
  }

  function resetGameState() { guesses = []; currentGuess = []; currentRowIndex = 0; isGameOver = false; keyStatuses = {}; }

   function splitWord(word) {
    const chars = []; const lowerWord = String(word || '').toLowerCase();
    for (let i = 0; i < lowerWord.length; i++) {
      if (lowerWord[i] === 'ีธ' && i + 1 < lowerWord.length && lowerWord[i + 1] === 'ึ') { chars.push('ีธึ'); i++; }
      else { chars.push(lowerWord[i]); }
    } return chars;
   }

  function buildBoard() {
    boardElement.innerHTML = '';
    for (let i = 0; i < MAX_ROWS; i++) {
        const row = document.createElement('div'); row.className = 'row';
        for (let j = 0; j < WORD_LENGTH; j++) {
            const tile = document.createElement('div'); tile.className = 'tile'; tile.innerHTML = '<div></div>'; row.appendChild(tile);
        } boardElement.appendChild(row);
    }
  }

  function buildKeyboard() {
    keyboardTopRowElement.innerHTML = ''; keyboardMainGridElement.innerHTML = '';
    [ENTER_KEY, DELETE_KEY].forEach(keyText => {
        const keyElement = document.createElement('button'); keyElement.textContent = keyText; keyElement.className = 'key';
        if (keyText === ENTER_KEY) { keyElement.classList.add('enter'); keyElement.onclick = handleSubmit; }
        else { keyElement.classList.add('delete'); keyElement.onclick = handleDelete; }
        keyboardTopRowElement.appendChild(keyElement);
    });
    currentLayout.forEach(rowKeys => {
        rowKeys.forEach(keyText => {
            const keyElement = document.createElement('button'); keyElement.textContent = keyText; keyElement.className = 'key';
            if (!keyText) { keyElement.classList.add('placeholder'); keyElement.disabled = true; keyElement.style.cursor = 'default'; keyElement.dataset.key = ''; }
            else { keyElement.dataset.key = keyText; keyElement.onclick = () => handleKeyClick(keyText); }
            keyboardMainGridElement.appendChild(keyElement);
        });
    });
    document.body.setAttribute('data-keyboard-layout', currentLayoutName);
  }

    function switchLayout() {
        currentLayoutName = (currentLayoutName === 'phonetic') ? 'alphabetical' : 'phonetic';
        currentLayout = (currentLayoutName === 'phonetic') ? keyboardPhoneticLayout : keyboardAlphabeticalLayout;
        toggleBtnLayout.textContent = LAYOUT_NAMES[currentLayoutName];
        buildKeyboard(); adjustBoardSize(); updateKeyboardHighlight();
        localStorage.setItem(LOCAL_STORAGE_LAYOUT_KEY, currentLayoutName);
    }

  function redrawBoardFromState() {
     const rows = boardElement.querySelectorAll('.row');
     rows.forEach((row, rowIndex) => {
        const tiles = row.querySelectorAll('.tile');
        if (rowIndex < guesses.length) {
             const guessData = guesses[rowIndex];
             tiles.forEach((tile, tileIndex) => {
                const tileInner = tile.querySelector('div'); if (!tileInner) return;
                const letterData = guessData[tileIndex] || { letter: '', status: '' };
                tileInner.textContent = letterData.letter;
                tile.classList.remove('correct', 'present', 'absent', 'filled');
                if (letterData.letter) { tile.classList.add('filled'); if (letterData.status) tile.classList.add(letterData.status); }
             });
        } else {
              tiles.forEach(tile => { const tileInner = tile.querySelector('div'); if (tileInner) tileInner.textContent = ''; tile.classList.remove('correct', 'present', 'absent', 'filled'); });
        }
     });
      if (currentRowIndex < MAX_ROWS && currentRowIndex >= guesses.length) updateCurrentRowDisplay();
  }

  function updateCurrentRowDisplay() {
    if (isGameOver || currentRowIndex >= MAX_ROWS) return;
    const currentRow = boardElement.querySelectorAll('.row')[currentRowIndex]; if (!currentRow) return;
    const tiles = currentRow.querySelectorAll('.tile');
    tiles.forEach((tile, index) => {
        const tileInner = tile.querySelector('div'); if (!tileInner) return;
        const letter = currentGuess[index] || ''; tileInner.textContent = letter;
        if (letter) tile.classList.add('filled'); else tile.classList.remove('filled');
        tile.classList.remove('correct', 'present', 'absent');
    });
  }

  function updateKeyboardHighlight() {
    keyboardElement.querySelectorAll('.key[data-key]').forEach(keyElement => {
        const letter = keyElement.dataset.key; if (!letter) return;
        const cumulativeStatus = keyStatuses[letter];
        keyElement.classList.remove('correct', 'present', 'absent', 'has-present');
        if (cumulativeStatus) keyElement.classList.add(cumulativeStatus);
    });
  }

  function handleKeyClick(key) { if (isGameOver || currentGuess.length >= WORD_LENGTH) return; currentGuess.push(key); updateCurrentRowDisplay(); }
  function handleDelete() { if (isGameOver || currentGuess.length === 0) return; currentGuess.pop(); updateCurrentRowDisplay(); }

  function handleSubmit() {
    if (isGameOver) return;
    if (currentGuess.length !== WORD_LENGTH) { shakeRow(currentRowIndex); showMessage("ิฑีถีขีกีพีกึีกึ ีฟีกีผีฅึีซ ึีกีถีกีฏ", 1500); return; }
    const guessString = currentGuess.join('');
    const isValidWord = WORDS.includes(guessString) || WORDS.includes(guessString + '!');
    if (!isValidWord) { shakeRow(currentRowIndex); showMessage("ีีพีตีกีฌ ีขีกีผีจ ีดีฅึ ีขีกีผีกึีกีถีธึีด ีนีฏีก :(", 1500); return; }
    const result = checkGuess(guessString); guesses.push(result);
    result.forEach(({ letter, status }) => {
        const currentStatus = keyStatuses[letter];
        if (status === 'correct') keyStatuses[letter] = 'correct';
        else if (status === 'present' && currentStatus !== 'correct') keyStatuses[letter] = 'present';
        else if (status === 'absent' && !currentStatus) keyStatuses[letter] = 'absent';
    });
    animateGuessResult(currentRowIndex, result); updateKeyboardHighlight();
    setTimeout(() => {
        currentRowIndex++; currentGuess = [];
        checkWinLoss(guessString); saveState();
    }, WORD_LENGTH * 150 + 300);
  }

  function handlePhysicalKey(e) {
     if (isGameOver) return; let key = e.key;
     if (e.altKey || e.ctrlKey || e.metaKey || key.startsWith('F') || key.length > 1 && !['Backspace', 'Delete', 'Enter'].includes(key)) return;
     key = key.toLowerCase();
     if (key === 'enter') handleSubmit();
     else if (key === 'backspace' || key === 'delete') handleDelete();
     else if (allLetters.includes(key)) handleKeyClick(key);
  }

  function checkGuess(guessString) {
     const guessChars = splitWord(guessString); const result = []; const targetCopy = [...parsedTarget];
     for(let i = 0; i < WORD_LENGTH; i++) result[i] = { letter: guessChars[i], status: '' };
     for (let i = 0; i < WORD_LENGTH; i++) if (guessChars[i] === parsedTarget[i]) { result[i].status = 'correct'; targetCopy[i] = null; }
     for (let i = 0; i < WORD_LENGTH; i++) {
         if (result[i].status === 'correct') continue; const letter = guessChars[i]; const indexInTarget = targetCopy.indexOf(letter);
         if (indexInTarget !== -1) { result[i].status = 'present'; targetCopy[indexInTarget] = null; } else { result[i].status = 'absent'; }
     } return result;
  }

  function checkWinLoss(lastGuessString) {
     if (splitWord(lastGuessString).join('') === parsedTarget.join('')) { showMessage('๐ ีีกีฒีฉีกีถีกีฏ ๐', 5000); isGameOver = true; disableInput(); }
     else if (currentRowIndex >= MAX_ROWS) { showMessage(`ีีกึีฟีธึีฉีตีธึีถึ ิฑีตีฝึึีพีก ีขีกีผีจี ${targetWord}`, 0); isGameOver = true; disableInput(); }
  }

  function disableInput() {
     isGameOver = true; window.removeEventListener('keydown', handlePhysicalKey);
     keyboardElement.querySelectorAll('.key').forEach(btn => {
         if (btn.classList.contains('enter') || btn.classList.contains('delete') || btn.dataset.key) { btn.onclick = null; btn.style.cursor = 'default'; }
     });
  }

  function animateGuessResult(rowIndex, result) {
     const row = boardElement.querySelectorAll('.row')[rowIndex]; if (!row) return;
     const tiles = row.querySelectorAll('.tile');
     tiles.forEach((tile, index) => {
         const { letter, status } = result[index]; const tileInner = tile.querySelector('div'); if (!tileInner) return;
         tileInner.textContent = letter; tile.classList.add('filled'); tile.classList.remove('correct', 'present', 'absent');
         setTimeout(() => { if (status) tile.classList.add(status); }, index * 150);
     });
  }

  function shakeRow(rowIndex) {
    const row = boardElement.querySelectorAll('.row')[rowIndex];
    if (row) { row.classList.add('shake'); row.addEventListener('animationend', () => row.classList.remove('shake'), { once: true }); }
  }

   function showMessage(msg, duration = 2000) {
        clearTimeout(messageTimeout); messageElement.textContent = msg; messageElement.classList.add('show');
        if (duration > 0) messageTimeout = setTimeout(() => { messageElement.classList.remove('show'); }, duration);
   }

  toggleBtnTheme.onclick = () => {
    const isDark = document.body.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    toggleBtnTheme.textContent = isDark ? 'โ๏ธ' : '๐';
  };

  function openPastGamesPopup() {
      try {
          pastGamesList.innerHTML = '';
          const startYear = parseInt(START_DATE_STRING.substring(0, 4));
          const startMonth = parseInt(START_DATE_STRING.substring(5, 7)) - 1;
          const startDay = parseInt(START_DATE_STRING.substring(8, 10));
          const startDateUTC = Date.UTC(startYear, startMonth, startDay, 0, 0, 0, 0);
          const now = new Date();
          const todayUTC = Date.UTC(now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate(), 0, 0, 0, 0);
          if (isNaN(startDateUTC) || startDateUTC > todayUTC) {
               pastGamesList.innerHTML = `<li>ิฝีกีฒีฅึีจ ีฝีฏีฝีพีธึีด ีฅีถ ${START_DATE_STRING}-ีซึึ</li>`;
               pastGamesPopup.style.display = 'flex'; return;
          }
          const todayOffset = Math.floor((todayUTC - startDateUTC) / (1000 * 60 * 60 * 24));
          const todaysGameNumber = todayOffset + 1;
          if (todaysGameNumber < 1) pastGamesList.innerHTML = '<li>ิฝีกีฒีฅึีซ ึีธึึีกีฏีจ ีฝีฟีฅีฒีฎีฅีฌีซีฝ ีฝีญีกีฌึ</li>';
          else {
              const items = [];
              for (let i = 1; i <= todaysGameNumber; i++) {
                  const gameOffset = i - 1;
                  const gameDateUTC = startDateUTC + (gameOffset * 1000 * 60 * 60 * 24);
                  const gameDate = new Date(gameDateUTC);
                  const year = gameDate.getUTCFullYear();
                  const month = String(gameDate.getUTCMonth() + 1).padStart(2, '0');
                  const day = String(gameDate.getUTCDate()).padStart(2, '0');
                  const gameDateString = `${year}-${month}-${day}`;
                  const li = document.createElement('li'); const a = document.createElement('a');
                  a.href = `${window.location.pathname}?date=${gameDateString}`;
                  a.textContent = `ิฝีกีฒ #${i} - ${gameDateString}`; a.title = `ิดีซีฟีฅีฌ ${gameDateString} ีญีกีฒีจ`;
                  if (effectiveDate && gameDateUTC === effectiveDate.getTime()) a.style.fontWeight = 'bold';
                  li.appendChild(a); items.push(li);
              } items.reverse().forEach(item => pastGamesList.appendChild(item));
          }
          pastGamesPopup.style.display = 'flex';
      } catch (e) {
          console.error("Error generating past games list:", e);
          pastGamesList.innerHTML = '<li>ีีกีฟีดีธึีฉีตีธึีถีจ ีขีฅีผีถีฅีฌีซีฝ ีฝีญีกีฌ ีฟีฅีฒีซ ีธึีถีฅึีกีพึ</li>';
          pastGamesPopup.style.display = 'flex';
      }
  }

  function closePastGamesPopup() { pastGamesPopup.style.display = 'none'; }

  function adjustBoardSize() {
      // This function might need review if board sizing is handled entirely by landscape CSS flex/grid
      // For portrait, it likely still has value.
      if (window.matchMedia("(orientation: landscape) and (max-height: 600px)").matches) {
        // In landscape, CSS grid and flex handle sizing primarily for height.
        // We might want to ensure .board-container does not get an explicit pixel max-width from JS
        // if CSS aspect-ratio is handling width well.
        const boardContainer = document.querySelector('.board-container');
        boardContainer.style.maxWidth = ''; // Let CSS control max-width in landscape.
        return;
      }

      const viewportHeight = window.innerHeight;
      // Get header elements from #game-column-right for portrait calculations
      const headerContainer = document.querySelector('#game-column-right > .header-container');
      const subtitle = document.querySelector('#game-column-right > .subtitle');
      const keyboard = document.getElementById('keyboard'); // Stays the same
      const mainContentEl = document.querySelector('.main-content'); // Refers to board's parent
      const gameColumnRightEl = document.querySelector('#game-column-right');
      const boardContainer = document.querySelector('.board-container');

      if (!headerContainer || !subtitle || !keyboard || !boardContainer || !boardElement || !mainContentEl || !gameColumnRightEl) {
          return;
      }

      let nonBoardHeight = 0;
      // Height of header part (now in gameColumnRightEl) + keyboard
      [headerContainer, subtitle, keyboard].forEach(el => {
          const style = getComputedStyle(el);
          nonBoardHeight += el.offsetHeight;
          nonBoardHeight += parseFloat(style.marginTop) || 0;
          nonBoardHeight += parseFloat(style.marginBottom) || 0;
      });
      // Add padding of gameColumnRightEl
      const gameColumnRightStyle = getComputedStyle(gameColumnRightEl);
      nonBoardHeight += parseFloat(gameColumnRightStyle.paddingTop) || 0;
      nonBoardHeight += parseFloat(gameColumnRightStyle.paddingBottom) || 0;


      // Add padding of mainContent (board's parent)
       const mainContentStyle = getComputedStyle(mainContentEl);
       nonBoardHeight += parseFloat(mainContentStyle.paddingTop) || 0;
       nonBoardHeight += parseFloat(mainContentStyle.paddingBottom) || 0;


      const boardContainerStyle = getComputedStyle(boardContainer);
      const boardContainerMarginTop = parseFloat(boardContainerStyle.marginTop) || 0;
      const boardContainerMarginBottom = parseFloat(boardContainerStyle.marginBottom) || 0;
      const boardContainerVerticalMargins = boardContainerMarginTop + boardContainerMarginBottom;

      const availableBoardHeight = viewportHeight - nonBoardHeight - boardContainerVerticalMargins;
      const boardStyle = getComputedStyle(boardElement);
      const rowGap = parseFloat(boardStyle.rowGap) || 0;
      const columnGap = parseFloat(boardStyle.columnGap) || 0;
      const buffer = 8;
      const maxTileSizeBasedOnHeight = Math.max(0, (availableBoardHeight - (MAX_ROWS - 1) * rowGap - buffer) / MAX_ROWS);
      const requiredBoardWidthFromHeight = (WORD_LENGTH * maxTileSizeBasedOnHeight) + (WORD_LENGTH - 1) * columnGap;
      
      const tempMaxWidth = boardContainer.style.maxWidth;
      boardContainer.style.maxWidth = '';
      const cssMaxWidthForBoardContainer = parseFloat(getComputedStyle(boardContainer).maxWidth); // Default max-width for board container (none, likely)
      const mainContentMaxWidth = parseFloat(mainContentStyle.maxWidth) || Infinity; // Max-width of .main-content itself
      const finalCssMaxWidth = Math.min( isNaN(cssMaxWidthForBoardContainer) ? Infinity : cssMaxWidthForBoardContainer, mainContentMaxWidth);
      boardContainer.style.maxWidth = tempMaxWidth;

      const targetWidth = Math.min(requiredBoardWidthFromHeight, finalCssMaxWidth);
      const minReasonableTileSize = 30;
      const minReasonableBoardWidth = (WORD_LENGTH * minReasonableTileSize) + (WORD_LENGTH - 1) * columnGap;

      if (targetWidth > minReasonableBoardWidth && targetWidth > 0) {
          boardContainer.style.maxWidth = `${targetWidth}px`;
      } else {
           boardContainer.style.maxWidth = '';
      }
  }

  document.addEventListener('DOMContentLoaded', () => { init(); adjustBoardSize(); });
  window.addEventListener('resize', adjustBoardSize);
</script>

</body>
</html>
